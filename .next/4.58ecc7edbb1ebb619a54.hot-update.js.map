{"version":3,"file":"4.58ecc7edbb1ebb619a54.hot-update.js","sources":["webpack:///pages/campaigns/requests/new.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Form, Button, Message, Input } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport web3 from '../../../ethereum/web3';\nimport { Link, Router } from '../../../routes';\nimport Layout from '../../../components/layout';\n\n\n\nclass RequestNew extends Component {\n\n       static async getInitialProps(props)\n    {\n        const {address} = props.query;\n\n        return { address };\n    }\n\n    state = {\n        value: '',\n        description : '',\n        recipient: '',\n        loading:false,\n        inActive: false,\n        error:''\n    };\n\n    onSubmit = async (event) =>{\n        event.preventDefault();\n        this.setState({\n             loading: true,\n            inActive: true,\n            error:''\n        });\n        const campaign = Campaign(this.props.address);\n        const  {description , value, recipient} = this.state;\n\n        try{\n            const accounts = await web3.eth.getAccounts();\n            await   campaign.methods.createRequest(\n                description,\n                recipient,\n                web3.utils.toWei(value,'ether'))\n            .send({\n                from : accounts[0]\n            });\n\n        }\n\n        catch(err)\n        {\n             this.setState({\n                error: err.message\n\n             });\n\n        }\n\n         this.setState({\n             loading: false,\n             inActive: false,\n           \n         });\n\n    }\n \n\n\n    render(){\n        return(\n            <Layout>\n                <h3>Create a Request</h3>\n            <Form onSubmit ={this.onSubmit}>\n                <Form.Field>\n                    <label>Description</label>\n                    <Input value ={this.state.description} \n                    onChange = {event => this.setState({\n                        description: event.target.value\n                    })}\n                    />\n                        </Form.Field>\n                        <Form.Field>\n                    <label>Value in Ether</label>\n                        <Input \n                        value ={this.state.value} \n                        onChange = {event => this.setState({\n                        value: event.target.value\n                    })}\n                    />\n                        </Form.Field>\n                    <Form.Field>\n                    <label>Recipient</label>\n                        <Input \n                        value ={this.state.recipient}  \n                        onChange ={event => this.setState({\n                        recipient: event.target.value\n                    })}\n                    />\n                        </Form.Field>\n                        <Message negative error header=\"Opps!\" content={this.state.error}/>\n                        <Button \n                        primary\n                        loading ={this.state.loading}\n                        disabled={this.state.inActive}\n                        >\n                        Create!\n                        </Button>\n\n\n                </Form>\n\n                </Layout>\n        );\n    }\n}\n\nexport default RequestNew;\n\n\n// WEBPACK FOOTER //\n// pages/campaigns/requests/new.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AASA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAWA;AAXA;AAAA;AAiBA;AADA;AACA;AAjBA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAuBA;AACA;AADA;AACA;AAzBA;AA+BA;AACA;AACA;AAFA;AACA;AAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAwCA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AADA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AADA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;;;AAtGA;;;;;;AAEA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAPA;AACA;AA0GA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}