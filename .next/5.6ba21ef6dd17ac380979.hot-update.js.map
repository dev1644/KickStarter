{"version":3,"file":"5.6ba21ef6dd17ac380979.hot-update.js","sources":["webpack:///components/RequestRow.js"],"sourcesContent":["import React, {\n    Component\n} from 'react';\nimport {\n    Table,\n    Button\n} from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign';\n\nclass RequestRow extends Component {\n\n    state = {\n\n        loading: false,\n        inActive: false,\n        loading1: false,\n        inActive1: false,\n        error: ''\n    };\n    onApprove = async () => {\n        this.setState({\n            loading: true,\n            disabled: true,\n        });\n        const campaign = Campaign(this.props.address);\n        const accounts = await web3.eth.getAccounts();\n        try {\n            await campaign.methods.approveRequest(this.props.id)\n                .send({\n                    from: accounts[0],\n                });\n        } catch (err) {\n            this.setState({\n                error: err.message\n            });\n        }\n        this.setState({\n            loading: false,\n            disabled: false,\n        });\n    }\n\n    onFinalize = async () => {\n\n        this.setState({\n            loading1: true,\n            disabled1: true,\n        });\n        const campaign = Campaign(this.props.address);\n\n        const accounts = await web3.eth.getAccounts();\n\n        try {\n            await campaign.methods.finalizeRequest(this.props.id)\n                .send({\n                    from: accounts[0],\n                });\n        } catch (err) {\n\n            this.setState({\n                error: err.message\n            });\n        }\n        this.setState({\n            loading1: false,\n            disabled1: false,\n        });\n    }\n\n    render() {\n\n        const {\n            Row,\n            Cell\n        } = Table;\n        const {\n            id,\n            request,\n            approversCount\n        } = this.props;\n        const readyToFinalize = request.approvalCount > approversCount / 2;\n\n        return ( <\n            Row disabled = {\n                request.complete\n            }\n            positive = {\n                readyToFinalize && !request.complete\n            } >\n            <\n            Cell > {\n                id\n            } < /Cell> <\n            Cell > {\n                request.description\n            } < /Cell> <\n            Cell > {\n                web3.utils.fromWei(request.value, 'ether')\n            } < /Cell> <\n            Cell > {\n                request.recipient\n            } < /Cell> <\n            Cell > {\n                request.approvalCount\n            }\n            /{approversCount}</Cell >\n            <\n            Cell > {\n                request.complete ? null : ( <\n                    Button color = 'green'\n                    basic onClick = {\n                        this.onApprove\n                    }\n                    loading = {\n                        this.state.loading\n                    }\n                    disabled = {\n                        this.state.inActive\n                    } >\n                    Approve\n\n                    <\n                    /Button>\n                )\n            } <\n            /Cell> <\n            Cell > {\n                request.complete ? null : ( <\n                    Button color = 'teal'\n                    basic onClick = {\n                        this.onFinalize\n                    }\n                    loading = {\n                        this.state.loading1\n                    }\n                    disabled = {\n                        this.state.inActive1\n                    } >\n                    Finalize <\n                    /Button>\n                )\n            } <\n            /Cell> <\n            /Row>\n        );\n    }\n}\n\nexport default RequestRow\n\n\n// WEBPACK FOOTER //\n// components/RequestRow.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AAIA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAGA;AALA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AAAA;AAUA;AADA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAYA;AACA;AADA;AACA;AAdA;AAiBA;AACA;AACA;AAFA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AACA;AAGA;AANA;AAAA;AACA;AADA;AAQA;AARA;AAAA;AAAA;AAaA;AADA;AACA;AAbA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAgBA;AACA;AADA;AACA;AAlBA;AAqBA;AACA;AACA;AAFA;AACA;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AA0BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAEA;AACA;AAGA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AAGA;AARA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AAGA;AARA;AAAA;AAAA;AAAA;AAAA;AAkBA;;;;AAxIA;AACA;AA0IA;;;;A","sourceRoot":""}