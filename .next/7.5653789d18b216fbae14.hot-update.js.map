{"version":3,"file":"7.5653789d18b216fbae14.hot-update.js","sources":["webpack:///components/ContribueForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {Form, Input, Message ,Button} from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign';\nimport { Router } from '../routes';\n\n\nclass ContributeForm extends Component{\n    \n    constructor(props)\n    {\n        super(props);\n        this.state = {\n            value: '',\n            error:'',\n            loading: false,\n            inActive:false,\n        };\n    }\n\n    onSubmit = async (event) =>{\n        event.preventDefault();\n        const campaign = Campaign(this.props.address);\n    \n           this.setState({\n               loading: true,\n               inActive: true,\n               error: ''\n           });\n           try {\n               const accounts = await web3.eth.getAccounts();\n               await campaign.methods\n                   .contribute()\n                   .send({\n                       from: accounts[0],\n                       value: web3.utils.toWei(this.state.value, 'ether')\n                   });\n\n                Router.replaceRoute(`/campaigns/${this.props.address}`);\n           } \n           catch (err) {\n            \n                this.setState({\n                   error: err.message,\n               });\n           \n           }\n           this.setState({\n               loading: false,\n               inActive: false,\n               value:'',\n               \n           });\n    }\n    render(){\n\n        return(\n            <Form onSubmit ={this.onSubmit} error={!this.state.error} >\n                <Form.Field>\n                   <label> Amount To Contribute </label>\n                   <Input   \n                   label = \"ether\"\n                   labelPosition = \"right\"\n                   value = {this.state.value}\n                   onChange = {event => this.setState({value: event.target.value})}\n                   \n\n                   />\n                    </Form.Field>\n                   \n                    < Message   error \n                    header = \"Oops!\"\n                        content = {\n                            this.state.error\n                        }\n                        />\n                    <Button primary\n                    loading ={this.state.loading}   \n                    disabled={this.state.inActive}>\n                    Contribute\n                    </Button>\n            </Form>\n        );\n    }\n\n}\n\nexport default ContributeForm;\n\n\n// WEBPACK FOOTER //\n// components/ContribueForm.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAEA;AACA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAUA;AAVA;AAAA;AAcA;AACA;AAFA;AACA;AAdA;AAkBA;AAlBA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAqBA;AACA;AADA;AACA;AAvBA;AA2BA;AACA;AACA;AACA;AAHA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAQA;AACA;;;AAmCA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA5EA;AACA;AA+EA;;;;A","sourceRoot":""}