{"version":3,"file":"5.dd72a86626edb677ddb4.hot-update.js","sources":["webpack:///components/RequestRow.js"],"sourcesContent":["import React,{Component} from 'react';\nimport {Table ,Button} from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign';\n\nclass RequestRow extends Component{\n    \n       state = {\n      \n        loading:false,\n        inActive: false,\n        loading1: false,\n        inActive1: false,\n        error: ''\n    };\n    onApprove = async () =>{\n        this.setState({\n            loading : true,\n            inActive :true,\n             inActive1: true,\n            error:''\n        });\n        const campaign = Campaign(this.props.address);\n        const accounts = await web3.eth.getAccounts();\n        try{\n        await campaign.methods.approveRequest(this.props.id)\n        .send({\n            from:accounts[0],\n        });\n    }\n    catch(err)\n    {\n        this.setState(\n            {\n                error:err.message\n            }\n        );\n    }\n    this.setState({\n        loading: false,\n        inActive: false,\n         inActive1: false,\n    });\n    }\n\n    onFinalize = async () => {\n        \n           this.setState({\n            loading1 : true,\n            inActive: true,\n            inActive1 :true,\n            error: '',\n        });\n        const campaign = Campaign(this.props.address);\n\n        const accounts = await web3.eth.getAccounts();\n\n        try{\n        await campaign.methods.finalizeRequest(this.props.id)\n            .send({\n                from: accounts[0],\n            });\n        }\n        catch(err){\n            \n              this.setState(\n            {\n                error:err.message\n            }\n        );\n        }\n                 this.setState({\n                     loading1: false,\n                     inActive: false,\n                     inActive1: false,\n                 });\n    }\n    \n    render(){\n\n        const {Row ,Cell} = Table;\n        const { id , request , approversCount} = this.props;\n        const readyToFinalize = request.approvalCount > approversCount/2;\n        \n        return(\n            <Row disabled ={request.complete}\n             positive = {readyToFinalize&&!request.complete} \n             >\n                <Cell>{id}</Cell>\n                <Cell>{request.description}</Cell>\n                <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\n                <Cell>{request.recipient}</Cell>\n                <Cell>{request.approvalCount}/{approversCount}</Cell>\n                <Cell>{\n                    request.complete ? null :(\n                    <Button \n                    color ='green' \n                    basic \n                    onClick = {this.onApprove}\n                    loading ={this.state.loading}\n                    disabled = {this.state.inActive}\n                     >\n                        Approve\n                        \n                        </Button>\n                    )\n                }\n                </Cell>\n                <Cell>{\n                    request.complete ? null : (\n                    <Button \n                    color ='teal' \n                    basic \n                    onClick ={this.onFinalize}\n                    loading ={this.state.loading1}\n                    disabled = {this.state.inActive1}\n                    >\n                        Finalize\n                        </Button>\n                    )\n                }\n                </Cell>\n                </Row>\n        );\n    }\n}\n\nexport default RequestRow\n\n\n// WEBPACK FOOTER //\n// components/RequestRow.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AAPA;AAAA;AACA;AADA;AAQA;AARA;AAAA;AAAA;AAYA;AADA;AACA;AAZA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAgBA;AAEA;AADA;AACA;AAnBA;AAuBA;AACA;AACA;AACA;AAHA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;AA6BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AARA;AAAA;AACA;AADA;AAUA;AAVA;AAAA;AAAA;AAeA;AADA;AACA;AAfA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAmBA;AAEA;AADA;AACA;AAtBA;AA0BA;AACA;AACA;AACA;AAHA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAgCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;AAvHA;AACA;AAyHA;;;;A","sourceRoot":""}